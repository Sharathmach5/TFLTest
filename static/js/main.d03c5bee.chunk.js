(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),o=(a(98),a(19)),l=(a(99),a(209)),s=a(205),m=a(206),u=a(207),d=a(219),p=a(212),g=a(217),f=a(203),E=a(214),b=a(215),v=a(49),y=a(173),h=a(218),x=a(216),j=a(213),k=a(84),O=a(211),S=a(210),w=a(208),N=a(79),C=a.n(N),T=a(80),L=a.n(T),B=a(81),F=a.n(B),W=a(82),I=a.n(W),D=a(76),_=a.n(D),A=a(77),G=a.n(A),H=Object(f.a)(function(e){return{nested:{paddingLeft:e.spacing(6)}}});var M=function(e){var t=e.line,a=e.onClick,n=e.expanded,i=H(),c=_.a.last(t.lineStatuses);return r.a.createElement("div",{key:t.id},r.a.createElement(s.a,{button:!0,divider:!0,alignItems:"center",justify:"center",onClick:a},n?r.a.createElement(C.a,null):r.a.createElement(L.a,null),r.a.createElement(m.a,{primary:t.name}),r.a.createElement(u.a,{key:c.id},r.a.createElement(m.a,{primary:c.statusSeverityDescription,align:"center"}))),r.a.createElement(w.a,{in:n,timeout:"auto",unmountOnExit:!0},r.a.createElement(l.a,{component:"div",disablePadding:!0},t.lineStatuses.map(function(e){return r.a.createElement(s.a,{key:e.id,className:i.nested},r.a.createElement(S.a,null,10===e.statusSeverity?r.a.createElement(F.a,null):r.a.createElement(I.a,null)),r.a.createElement(m.a,{primary:10!==e.statusSeverity?e.reason:e.statusSeverityDescription,secondary:"".concat(G()(e.validityPeriods.fromDate).format("DD/MM/YYYY HH:mm"))}))}))))},P=Object(f.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,padding:"15px"}}});var Q=function(e){var t=e.title,a=e.lines,i=Object(n.useState)([]),c=Object(o.a)(i,2),s=c[0],m=c[1],u=function(e){return function(){var t=s.indexOf(e),a=Object(k.a)(s);-1===t?a.push(e):a.splice(t,1),m(a)}},d=P();return r.a.createElement(l.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:r.a.createElement(O.a,{component:"div",id:"nested-list-subheader"},t),className:d.root},a&&a.map(function(e,t){return r.a.createElement(M,{key:e.id,line:e,onClick:u(e.name),expanded:-1!==s.indexOf(e.name)})}))},Y=a(83),q=a.n(Y),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.tfl.gov.uk/",t={app_id:"projectj",app_key:"3dd2260d43cc4f72bf24377a21194aa9"},a=q.a.create({baseURL:e,headers:{},timeout:1e4});return{getBikePoints:function(){return a.get("bikepoint/",t)},getLines:function(){return a.get("line/mode/tube,overground,dlr,tflrail,tram/status/",t)},getAirQuality:function(){return a.get("AirQuality/")}}}(),J=Object(f.a)(function(e){return{root:{flexGrow:1},airqualitygridcontainerroot:{backgroundColor:"steelblue",width:"100%",marginTop:"20px",marginLeft:"10px",paddingLeft:"30px",paddingRight:"30px",paddingTop:"15px",paddingBottom:"15px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},container:{marginTop:e.spacing(1)},paper:{padding:e.spacing(3,2),margin:e.spacing(1)},progress:{marginTop:e.spacing(8),marginBottom:e.spacing(-8)},tabContainer:{marginTop:e.spacing(1)},gridContainer:{marginTop:e.spacing(8)},footer:{display:"flex",flexGrow:1,alignItems:"center",marginTop:e.spacing(2),justifyContent:"center"}}});var U=function(){var e=J(),t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],f=Object(n.useState)(),k=Object(o.a)(f,2),O=k[0],S=k[1],w=Object(n.useState)(),N=Object(o.a)(w,2),C=N[0],T=N[1],L=Object(n.useState)(),B=Object(o.a)(L,2),F=B[0],W=B[1],I=Object(n.useState)(),D=Object(o.a)(I,2),_=D[0],A=D[1],G=Object(n.useState)({visible:!1,content:""}),H=Object(o.a)(G,2),M=H[0],P=H[1],Y=Object(n.useState)(0),q=Object(o.a)(Y,2),U=q[0],$=q[1],z=function(){c(!0),R.getBikePoints().then(function(e){e.ok?(S(e.data),console.log(e.data),c(!1)):(P({visible:!0,content:e.problem}),c(!1))})},K=function(){c(!0),R.getLines().then(function(e){e.ok?(W(e.data),c(!1)):(P({visible:!0,content:e.problem}),c(!1))})},V=function(){c(!0),R.getAirQuality().then(function(e){e.ok?(A(e.data),c(!1)):(P({visible:!0,content:e.problem}),c(!1))})};return Object(n.useEffect)(function(){z(),V()},[]),r.a.createElement("div",{className:"App"},i&&r.a.createElement(j.a,{color:"secondary",className:e.progress,variant:"query"}),r.a.createElement(E.a,{position:"fixed",style:{backgroundColor:"#002D72"}},r.a.createElement(b.a,null,r.a.createElement(v.a,{variant:"h6",className:e.title},"Transport for London by Sharath"))),r.a.createElement(p.a,{container:!0,className:e.gridContainer,direction:"row"},r.a.createElement(p.a,{item:!0,xs:12},r.a.createElement(y.a,{className:e.paper},r.a.createElement(h.a,{value:U,onChange:function(e,t){switch(t){case 0:z();break;case 1:K();break;case 2:V()}$(t)}},r.a.createElement(x.a,{label:"Search Bike points"}),r.a.createElement(x.a,{label:"Line status"}),r.a.createElement(x.a,{label:"Air Quality Index"})),0===U&&r.a.createElement("div",{className:e.tabContainer},r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Search by street name",onChange:function(e){console.log(e.target.value),T(e.target.value)}}),O&&C&&O.filter(function(e){return e.commonName.includes(C)}).map(function(t,a){return r.a.createElement("div",null,r.a.createElement(l.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:e.root},r.a.createElement(s.a,{dense:!0,divider:!0,alignItems:"center",justify:"center"},r.a.createElement(m.a,{primary:t.commonName}),r.a.createElement(u.a,{key:t.id},r.a.createElement(m.a,{primary:t.url,align:"center"})))))}))),1===U&&r.a.createElement("div",{className:e.tabContainer},r.a.createElement(Q,{title:"London underground lines status",lines:F})),2===U&&r.a.createElement("div",{className:e.tabContainer},r.a.createElement("div",null,r.a.createElement(p.a,{container:!0,className:e.airqualitygridcontainerroot,spacing:3,justifyContent:"space-between"},r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(y.a,{className:e.paper,elevation:2},r.a.createElement(v.a,{variant:"h6",style:{fontWeight:500}},"Forecast: ",_.currentForecast[0].forecastType))),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(y.a,{className:e.paper,elevation:2},r.a.createElement(v.a,{variant:"h6",style:{fontWeight:500}},"Forecast: ",_.currentForecast[1].forecastType))),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(y.a,{className:e.paper,elevation:2},r.a.createElement(v.a,{variant:"body1",style:{fontWeight:500}},_.currentForecast[0].forecastSummary))),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(y.a,{className:e.paper,elevation:2},r.a.createElement(v.a,{variant:"body1",style:{fontWeight:500}},_.currentForecast[1].forecastSummary))),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(y.a,{className:e.paper,elevation:2},r.a.createElement(v.a,{variant:"body2",style:{fontWeight:500}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:_.currentForecast[0].forecastText}})))),r.a.createElement(p.a,{item:!0,xs:6},r.a.createElement(y.a,{className:e.paper,elevation:2},r.a.createElement(v.a,{variant:"body2",style:{fontWeight:500}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:_.currentForecast[1].forecastText}})))))))))),r.a.createElement(d.a,{open:M.visible,onClose:function(){return P({visible:!1,content:""})},variant:"error",TransitionComponent:g.a,message:M.content}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,a){e.exports=a(172)},98:function(e,t,a){},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.d03c5bee.chunk.js.map